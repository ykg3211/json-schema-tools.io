(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2158:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(563)}])},563:(e,r,t)=>{"use strict";t.r(r),t.d(r,{__N_SSG:()=>ev,default:()=>ey});var o,n=t(5721),a=t(2999),l=t.n(a),c=t(7310),s=t.n(c),i=t(9617),d=t.n(i),u=t(1788),p=t.n(u);let m=e=>{if(e instanceof Array){let r=e.map(e=>{let r=null===e?"null":typeof e;return"object"===r?m(e):"number"===r&&-1===(e+"").indexOf(".")?{type:"integer"}:{type:r}}).map(JSON.stringify);return 1===r.filter((e,t)=>"object"===e.type||"array"===e.type||r.findIndex(r=>r.type===e.type)===t).length?{type:"array",items:JSON.parse(r[0])}:{type:"array",items:r.map(JSON.parse)}}let r={};return Object.keys(e).forEach(t=>{let o=e[t],n=null===o?"null":typeof o;"object"===n?r[t]=m(o):"number"===n&&-1===(o+"").indexOf(".")?r[t]={type:"integer"}:r[t]={type:n}}),{type:"object",properties:r,required:Object.keys(r)}},g=(e,r)=>{if(window.gtag){var t,o;null===(t=(o=window).gtag)||void 0===t||t.call(o,e,r)}};var b=t(8453),f=t(403),_=t(4424),h=t(3743),v=t(7893),y=t(4334),j=t(5786),k=t(3839),J=t(2252);let x=[(0,h.Eu)(),(0,h.HQ)(),(0,h.AE)(),(0,y.m8)(),(0,v.mi)(),(0,h.Uw)(),(0,h.qr)(),f.yy.allowMultipleSelections.of(!0),(0,v.nY)(),(0,v.nF)(v.R_,{fallback:!0}),(0,v.n$)(),(0,k.vQ)(),(0,k.ys)(),(0,h.Zs)(),(0,h.S2)(),(0,h.ZO)(),(0,j.sW)(),h.$f.of([...k.GA,...y.wQ,...j.Lp,...y.f$,...v.e7,...k.B1,...J.Fv])];var N=t(1365);let w={dark:!0,background:"#24292e",foreground:"#d1d5da",selection:"#3392FF44",cursor:"#c8e1ff",dropdownBackground:"#24292e",dropdownBorder:"#1b1f23",activeLine:"#4d566022",matchingBracket:"#888892",keyword:"#9197F1",variable:"#ffab70",variableName:"#D9DCFA",function:"#FFCA66",string:"#FF9878",constant:"#79b8ff",type:"#79b8ff",class:"#b392f0",number:"#2EC7D9",comment:"#568B2A",heading:"#79b8ff",invalid:"#f97583",regexp:"#9ecbff",propertyName:"#9197F1",separator:"#888892",gutters:"#888892",moduleKeyword:"#CC4FD4"};function C(){return h.tk.theme({"&":{color:w.foreground,backgroundColor:w.background},".cm-content":{caretColor:w.cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:w.cursor},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:w.selection},".cm-panels":{backgroundColor:w.dropdownBackground,color:w.foreground},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:w.dropdownBackground,outline:"1px solid ".concat(w.dropdownBorder)},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:w.selection},".cm-activeLine":{backgroundColor:w.activeLine},".cm-selectionMatch":{backgroundColor:w.selection},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:w.matchingBracket,outline:"none"},".cm-gutters":{backgroundColor:w.background,color:w.gutters,border:"none"},".cm-activeLineGutter":{backgroundColor:w.background},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:w.foreground},".cm-tooltip":{border:"1px solid ".concat(w.dropdownBorder),backgroundColor:w.dropdownBackground,color:w.foreground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:w.foreground,borderBottomColor:w.foreground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{background:w.selection,color:w.foreground}}},{dark:w.dark})}C();let S=v.Qf.define([{tag:N.pJ.keyword,color:w.keyword},{tag:N.pJ.variableName,color:w.variableName},{tag:[N.pJ.name,N.pJ.deleted,N.pJ.character,N.pJ.macroName],color:w.variable},{tag:[N.pJ.propertyName],color:w.propertyName},{tag:[N.pJ.processingInstruction,N.pJ.string,N.pJ.inserted,N.pJ.special(N.pJ.string)],color:w.string},{tag:[N.pJ.function(N.pJ.variableName),N.pJ.function(N.pJ.propertyName),N.pJ.labelName],color:w.function},{tag:[N.pJ.moduleKeyword,N.pJ.controlKeyword],color:w.moduleKeyword},{tag:[N.pJ.color,N.pJ.constant(N.pJ.name),N.pJ.standard(N.pJ.name)],color:w.constant},{tag:N.pJ.definition(N.pJ.name),color:w.variable},{tag:[N.pJ.className],color:w.class},{tag:[N.pJ.number,N.pJ.changed,N.pJ.annotation,N.pJ.modifier,N.pJ.self,N.pJ.namespace],color:w.number},{tag:[N.pJ.typeName],color:w.type,fontStyle:w.type},{tag:[N.pJ.operatorKeyword],color:w.keyword},{tag:[N.pJ.url,N.pJ.escape,N.pJ.regexp,N.pJ.link],color:w.regexp},{tag:[N.pJ.meta,N.pJ.comment],color:w.comment},{tag:N.pJ.strong,fontWeight:"bold"},{tag:N.pJ.emphasis,fontStyle:"italic"},{tag:N.pJ.link,textDecoration:"underline"},{tag:N.pJ.heading,fontWeight:"bold",color:w.heading},{tag:[N.pJ.atom,N.pJ.bool,N.pJ.special(N.pJ.variableName)],color:w.variable},{tag:N.pJ.invalid,color:w.invalid},{tag:N.pJ.strikethrough,textDecoration:"line-through"},{tag:N.pJ.separator,color:w.separator}]);(0,v.nF)(S);let O=e=>{let{children:r,type:t,onClick:o,backgroundColor:a,...l}=e,{className:c}=l;return(0,n.jsx)("div",{...l,onClick:e=>{"error"!==t&&(null==o||o(e))},role:"button",className:"".concat(c," ").concat(p().button," ").concat(a?p().button_background_color:""," ").concat(p()["button_".concat(t||"primary")]),children:r})},P={dark:!1,background:"#f4f5f5",foreground:"#444d56",selection:"#0366d625",cursor:"#044289",dropdownBackground:"#fff",dropdownBorder:"#e1e4e8",activeLine:"#c6c6c622",matchingBracket:"#34d05840",keyword:"#d73a49",variable:"#e36209",function:"#005cc5",string:"#032f62",constant:"#005cc5",type:"#005cc5",class:"#6f42c1",number:"#005cc5",comment:"#6a737d",heading:"#005cc5",invalid:"#cb2431",regexp:"#032f62"};function R(){return h.tk.theme({"&":{color:P.foreground,backgroundColor:P.background},".cm-content":{caretColor:P.cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:P.cursor},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:P.selection},".cm-panels":{backgroundColor:P.dropdownBackground,color:P.foreground},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:P.dropdownBackground,outline:"1px solid ".concat(P.dropdownBorder)},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:P.selection},".cm-activeLine":{backgroundColor:P.activeLine},".cm-selectionMatch":{backgroundColor:P.selection},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:P.matchingBracket,outline:"none"},".cm-gutters":{backgroundColor:P.background,color:P.foreground,border:"none"},".cm-activeLineGutter":{backgroundColor:P.background},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:P.foreground},".cm-tooltip":{border:"1px solid ".concat(P.dropdownBorder),backgroundColor:P.dropdownBackground,color:P.foreground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:P.foreground,borderBottomColor:P.foreground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{background:P.selection,color:P.foreground}}},{dark:P.dark})}R();let E=v.Qf.define([{tag:N.pJ.keyword,color:P.keyword},{tag:[N.pJ.name,N.pJ.deleted,N.pJ.character,N.pJ.macroName],color:P.variable},{tag:[N.pJ.propertyName],color:P.function},{tag:[N.pJ.processingInstruction,N.pJ.string,N.pJ.inserted,N.pJ.special(N.pJ.string)],color:P.string},{tag:[N.pJ.function(N.pJ.variableName),N.pJ.labelName],color:P.function},{tag:[N.pJ.color,N.pJ.constant(N.pJ.name),N.pJ.standard(N.pJ.name)],color:P.constant},{tag:[N.pJ.definition(N.pJ.name),N.pJ.separator],color:P.variable},{tag:[N.pJ.className],color:P.class},{tag:[N.pJ.number,N.pJ.changed,N.pJ.annotation,N.pJ.modifier,N.pJ.self,N.pJ.namespace],color:P.number},{tag:[N.pJ.typeName],color:P.type,fontStyle:P.type},{tag:[N.pJ.operator,N.pJ.operatorKeyword],color:P.keyword},{tag:[N.pJ.url,N.pJ.escape,N.pJ.regexp,N.pJ.link],color:P.regexp},{tag:[N.pJ.meta,N.pJ.comment],color:P.comment},{tag:N.pJ.strong,fontWeight:"bold"},{tag:N.pJ.emphasis,fontStyle:"italic"},{tag:N.pJ.link,textDecoration:"underline"},{tag:N.pJ.heading,fontWeight:"bold",color:P.heading},{tag:[N.pJ.atom,N.pJ.bool,N.pJ.special(N.pJ.variableName)],color:P.variable},{tag:N.pJ.invalid,color:P.invalid},{tag:N.pJ.strikethrough,textDecoration:"line-through"}]);(0,v.nF)(E);let T=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",B=e=>"number"==typeof e,L=(e,r,t)=>{let o=e,n="string"==typeof r?r.split("."):[...r];for(;n.length>0;){let e=n.shift();if(!e||!o)return t||void 0;o=o[e]}return o},F=e=>{try{return JSON.parse(e)}catch(e){return}},$=()=>"dark"===T()?"rgba(249,57,32, 0.2)":"rgba(249,57,32, 0.3)",A=()=>"dark"===T()?"rgba(180,249,32, 0.2)":"rgba(145, 203, 18, 0.3)",H=f.r$.define({combine:e=>e[e.length-1]||{}}),M=e=>{let{bgColor:r="rgba(233, 233, 114, 0.3)",from:t,to:o}=e;return B(t)&&B(o)?h.p.mark({attributes:{style:"background-color: ".concat(r,";")},textMarker:e}).range(t,o):h.p.none},V=f.Py.define(),I=f.QQ.define({create:()=>h.p.none,update(e,r){e=e.map(r.changes);let t=r.effects.find(e=>e.is(V));return t?h.p.none.update({add:t.value.map(e=>M(e))}):e},provide:e=>h.tk.decorations.from(e)}),D=(0,h.bF)((e,r)=>{let t=e.state.field(I),o=[];t.between(0,e.state.doc.length,(e,t,n)=>{if(e<=r&&r<=t){var a;(null===(a=n.spec)||void 0===a?void 0:a.textMarker)&&o.push(n.spec.textMarker)}});let n=o[o.length-1];if(!n)return null;let a=e.state.facet(H);if(!a.hoverRenderPanel){var l;return null===(l=n.onHover)||void 0===l||l.call(n),null}return{pos:n.from,end:n.to,above:!0,create(){var r,t;return null===(r=n.onHover)||void 0===r||r.call(n),{dom:null===(t=a.hoverRenderPanel)||void 0===t?void 0:t.call(a,n,e)}}}}),q=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e&&e.dispatch({effects:[V.of(r)]})},K=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[H.of(e),I,D]};!function(e){e.WORD="wordHover",e.JSON_LEAF_NODE="jsonLeafNodeHover",e.JSON_PROPERTY_NAME="jsonPropertyNameHover"}(o||(o={}));let G=f.r$.define({combine:e=>e[e.length-1]||{}}),W=(e,r)=>{let{from:t,to:o,text:n}=e.state.doc.lineAt(r),a=r,l=r;for(;a>t&&/\w/.test(n[a-t-1]);)a--;for(;l<o&&/\w/.test(n[l-t]);)l++;return{start:a,end:l}},Q=(0,h.bF)((e,r,t)=>{let n=e.state.facet(G),{from:a,text:l}=e.state.doc.lineAt(r),{start:c,end:s}=W(e,r);return c===r&&t<0||s===r&&t>0?null:{pos:c,end:s,above:!0,create(){let r=l.slice(c-a,s-a);if(n.renderPanel)return{dom:n.renderPanel(r,o.WORD,e)};let t=document.createElement("div");return t.textContent=r,{dom:t}}}}),U=(0,h.bF)((e,r)=>{var t,n;let{from:a,text:l}=e.state.doc.lineAt(r),c=e.state.facet(G),s=(0,v.qz)(e.state).resolveInner(r);if((null===(n=s.prevSibling)||void 0===n?void 0:null===(t=n.type)||void 0===t?void 0:t.name)!=="PropertyName"||"String"!==s.type.name)return null;let i=s.from,d=s.to;return{pos:i,end:d,above:!0,create(){let r=l.slice(i-a+1,d-a-1);if(c.renderPanel)return{dom:c.renderPanel(r,o.JSON_LEAF_NODE,e)};let t=document.createElement("div");return t.textContent=r,{dom:t}}}}),Z=(e,r)=>{let t=e.firstChild.nextSibling,o=-1;for(;t&&(o++,!(t.from<=r)||!(r<=t.to));)t=t.nextSibling;return o},Y=(e,r,t)=>{let o=[];for(;r;){if("Property"===r.name){let t=r.getChild("PropertyName");if(t){let r=e.sliceString(t.from+1,t.to-1);o.unshift(r)}}else if("Array"===r.name){let e=Z(r,t);o.unshift("".concat(e))}r=r.parent}return o.join(".")},z=(0,h.bF)((e,r)=>{let t=e.state.facet(G),n=(0,v.qz)(e.state).resolveInner(r);return"PropertyName"!==n.type.name?null:{pos:n.from,end:n.to,above:!0,create(){let a=Y(e.state.doc,n,r);if(t.renderPanel)return{dom:t.renderPanel(a,o.JSON_PROPERTY_NAME,e)};let l=document.createElement("div");return l.textContent=a,{dom:l}}}}),X=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[G.of(e),e.wordHover?Q:[],e.jsonLeafNodeHover?U:[],e.jsonPropertyNameHover?z:[]]},ee=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e)try{e.dispatch({selection:{anchor:r,head:r},effects:[h.tk.scrollIntoView(r,{y:"center"})]})}catch(e){console.error("code editor scrollToPosition error --- ",e)}},er=(0,b.forwardRef)(function(e,r){let{initValue:t,onChange:o,readonly:a=!1,hoverRenderPanel:l,hoverConfig:c}=e,s=(0,b.useRef)(null),i=(0,b.useRef)(),d=(0,b.useRef)();(0,b.useEffect)(()=>{if(s.current){let e=f.yy.create({doc:JSON.stringify(t,void 0,2),extensions:[x,(0,_.AV)(),"light"===T()?[R(),(0,v.nF)(E)]:[C(),(0,v.nF)(S)],f.yy.readOnly.of(a),h.tk.updateListener.of(e=>{if(e.transactions.some(e=>e.isUserEvent("undo")||e.isUserEvent("redo"))){var r;null==o||o(null===(r=i.current)||void 0===r?void 0:r.state.toJSON().doc)}}),f.yy.transactionFilter.of(e=>(e.docChanged&&(null==o||o(e.state.toJSON().doc)),e)),K({hoverRenderPanel:l}),...c?X(c):[]]});return i.current=new h.tk({state:e,parent:s.current}),()=>{var e;null===(e=i.current)||void 0===e||e.destroy()}}},[]);let u=e=>{if(i.current){let r="string"==typeof e?e:JSON.stringify(e,void 0,2),t=i.current.state.doc.toString();if(t!==r){let e=i.current.state.update({changes:{from:0,to:t.length,insert:r}});i.current.update([e])}}};return(0,b.useImperativeHandle)(r,()=>({setValue:u,setHighlightText:(e,r)=>{d.current&&clearTimeout(d.current),q(i.current,e),r||(d.current=setTimeout(()=>{q(i.current,[])},1e3))},scrollToPosition:e=>i.current&&ee(i.current,e)})),(0,n.jsxs)("div",{className:"".concat(p().code_editor_wrapper),children:[(0,n.jsx)("div",{className:"".concat(p().code_editor),ref:s}),(0,n.jsxs)("div",{className:p().code_editor_copy_btn,children:[(0,n.jsx)(O,{onClick:async()=>{try{var e;let r=null===(e=i.current)||void 0===e?void 0:e.state.toJSON().doc,t=JSON.stringify(JSON.parse(r),void 0,2);u(t),null==o||o(t)}catch(e){console.log(e)}},children:"Format"}),(0,n.jsx)(O,{onClick:async()=>{try{var e;await navigator.clipboard.writeText(null===(e=i.current)||void 0===e?void 0:e.state.toJSON().doc)}catch(e){console.log(e)}},children:"Copy"})]})]})}),et=(e,r)=>{let t=0,o=e,n=[],a=r=>{if(null==r?void 0:r.$ref){let t=r.$ref.split("/").filter(e=>"#"!==e);return n=t,a(L(e,t))}return r},l=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=L(e,r);(null==t?void 0:t.$ref)?o=a(t):(null==t?void 0:t.anyOf)&&(null==t?void 0:t.anyOf)instanceof Array?(n=n.concat(r),o={anyOf:t.anyOf.map(a)}):(n=n.concat(r),o=t)};for(;t<r.length&&o;){let e=r[t];if("object"===o.type){var c;l(o,(null===(c=o.properties)||void 0===c?void 0:c[e])?["properties",e]:["additionalProperties"])}else(null==o?void 0:o.type)==="array"&&(o.items instanceof Array?"number"==typeof e?l(o,["items",e]):l(o):"object"==typeof o.items?l(o,["items"]):l(o));t+=1}return n},eo=e=>{let{text:r,pathList:t}=e,o=0,n=t.reduce((e,r)=>({...e,["string"==typeof r?r:r.join(".")]:[]}),{}),a=(e,r)=>{Object.keys(n).forEach(t=>{e.join(".")===t&&n[t].push(r)})},l=e=>{m();let t=r[o];return"{"===t?c(e):"["===t?s(e):'"'===t?i():"t"===t||"f"===t?u():"n"===t?p():d()},c=e=>{let t={};for(o++,m();"}"!==r[o];){let n=o,c=i(),s=[...e,c];a(s,n),m(),o++,m();let d=l(s);t[c]=d,a(s,o),m(),","===r[o]&&(o++,m())}return o++,t},s=e=>{let t=[];for(o++,m();"]"!==r[o];){let n=[...e,t.length];a(n,o);let c=l(n);t.push(c),a(n,o),m(),","===r[o]&&(o++,m())}return o++,t},i=()=>{let e="",t=r=>{r&&(e+=r)};for(o++;'"'!==r[o];){if("\\"===r[o]){let e=r[++o];switch(e){case'"':t('"');break;case"\\":t("\\");break;case"/":t("/");break;case"b":t("\b");break;case"f":t("\f");break;case"n":t("\n");break;case"r":t("\r");break;case"t":t("	");break;default:t(e)}}else t(r[o]);o++}return o++,e},d=()=>{let e="",t=r=>{e+=r};for(;/[0-9eE\.\+\-]/.test(r[o]);)t(r[o]),o++;return Number(e)},u=()=>r.startsWith("true",o)?(o+=4,!0):(o+=5,!1),p=()=>(o+=4,null),m=()=>{for(;/\s/.test(r[o]);)o++};return l([]),n},en={number:1,string:"1",boolean:!1,obj:{number:1,string:"1",boolean:!1},missinKey:1,objError:{number:"1",string:"1",boolean:1},objRefError:{number:"1",string:"1",boolean:1},objRefRequired:{boolean:!1},array:[1,2],arrayObj:[{number:1,string:"1",boolean:!1,subObj:{number:1,string:"1",boolean:!1,subObj:{}}},{number:1,string:1,boolean:!1,subObj:{number:1,string:"1",boolean:!1,extraKey:"1",subObj:{number:1,string:1,boolean:!1}}}]},ea={$defs:{obj:{type:"object",properties:{number:{type:"integer"},string:{type:"string"},boolean:{type:"boolean"},subObj:{$ref:"#/$defs/obj"}},required:["number","string","boolean"]}},type:"object",properties:{number:{type:"integer"},string:{type:"string"},boolean:{type:"boolean"},obj:{$ref:"#/$defs/obj"},objError:{type:"object",properties:{number:{type:"integer"},string:{type:"string"},boolean:{type:"boolean"}},required:["number","string","boolean"]},objRefError:{$ref:"#/$defs/obj"},objRefRequired:{$ref:"#/$defs/obj"},objRequired:{$ref:"#/$defs/obj"},array:{type:"array",items:{type:"integer"}},arrayObj:{type:"array",items:{type:"object",properties:{number:{type:"integer"},string:{type:"string"},boolean:{type:"boolean"},subObj:{$ref:"#/$defs/obj"}},required:["number","string","boolean","subObj"]}}},required:["number","string","boolean","obj","array","arrayObj"]},el={number:1,string:"1",boolean:!1,obj:{number:1,string:"1",boolean:!1,subObj:{number:1,string:"1",boolean:!1}},array:[1,2],arrayObj:[{number:1,string:"1",boolean:!1,subObj:{number:1,string:"1",boolean:!1}}]},ec="json-cache",es="json-schema-cache",ei=()=>{let e=(0,b.useRef)("{}"),r=(0,b.useRef)("{}"),[t,o]=(0,b.useState)(!1),a=(0,b.useRef)("{}"),l=(0,b.useRef)("{}"),c=(0,b.useRef)(null),s=(0,b.useRef)(null),i=()=>{localStorage.setItem(ec,e.current),localStorage.setItem(es,a.current)};(0,b.useEffect)(()=>{var t,o;if(!localStorage.getItem(ec)){d(!0);return}e.current=localStorage.getItem(ec)||e.current,r.current=F(e.current),a.current=localStorage.getItem(es)||a.current,l.current=F(a.current),null===(t=c.current)||void 0===t||t.setValue(e.current),null===(o=s.current)||void 0===o||o.setValue(a.current)},[]);let d=t=>{var n,d;e.current=JSON.stringify(el,void 0,2),r.current=F(e.current),a.current=JSON.stringify(m(el),void 0,2),l.current=F(a.current),null===(n=c.current)||void 0===n||n.setValue(e.current),null===(d=s.current)||void 0===d||d.setValue(a.current),o(!1),t||i()},u=e=>{let r=et(l.current,e.split(".")),t=eo({text:a.current,pathList:[r.join(".")]})[r.join(".")];try{var o,n,c,i;null===(n=s.current)||void 0===n||null===(o=n.setHighlightText)||void 0===o||o.call(n,[{from:null==t?void 0:t[0],to:null==t?void 0:t[1],bgColor:A()}]),null===(i=s.current)||void 0===i||null===(c=i.scrollToPosition)||void 0===c||c.call(i,t[0])}catch(e){console.log(e)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"".concat(p().json_schema_generator_wrapper),children:[(0,n.jsxs)("div",{className:"".concat(p().json_schema_generator_panel),children:[(0,n.jsx)("div",{className:"".concat(p().json_schema_generator_title),children:(0,n.jsx)("h3",{children:"Json"})}),(0,n.jsx)("div",{className:"".concat(p().json_schema_generator_editor),style:t?{borderColor:"var(--gray-error)"}:{},children:(0,n.jsx)(er,{ref:c,initValue:{},onChange:t=>{e.current=t;try{r.current=JSON.parse(t),o(!1)}catch(e){console.log(e),o(!0)}},hoverConfig:{jsonPropertyNameHover:!0,renderPanel:e=>(u(e),document.createElement("span"))}})})]}),(0,n.jsxs)("div",{className:"".concat(p().json_schema_generator_panel),children:[(0,n.jsx)("div",{className:"".concat(p().json_schema_generator_title),children:(0,n.jsx)("h3",{children:"Json Schema"})}),(0,n.jsx)("div",{className:"".concat(p().json_schema_generator_editor),children:(0,n.jsx)(er,{ref:s,initValue:{}})})]})]}),(0,n.jsxs)("div",{className:"".concat(p().bottom_btn_wrapper),children:[(0,n.jsx)(O,{type:t?"error":"primary",onClick:()=>{g("Generate Json Schema",new Date);try{var r;l.current=m(JSON.parse(e.current)),a.current=JSON.stringify(l.current,void 0,2),null===(r=s.current)||void 0===r||r.setValue(a.current),i()}catch(e){console.log(e)}},className:"".concat(p().bottom_btn),children:"Generate Json Schema"}),(0,n.jsx)(O,{type:"default",className:"".concat(p().bottom_btn),onClick:()=>{g("Reset generate",new Date),d()},children:"Reset Template"})]})]})},ed=()=>(0,n.jsxs)("header",{className:"".concat(p().header),children:[(0,n.jsxs)("div",{className:"".concat(p().header_side),children:[(0,n.jsx)("img",{className:p().logo,src:"./logo.svg",alt:"logo",onClick:()=>{window.location.reload()}}),(0,n.jsx)("h3",{className:"".concat(p().header_side_text),children:"Json Schema Tools"})]}),(0,n.jsxs)("div",{className:"".concat(p().header_side),children:[(0,n.jsx)("a",{className:"".concat(p().link_href),target:"_blank",href:"https://github.com/ykg3211/json-schema-tools.io/issues",onClick:()=>{g("Need More",new Date)},children:(0,n.jsx)(O,{type:"default",children:"I need more!"})}),(0,n.jsx)("a",{className:"".concat(p().link_href),href:"https://github.com/ykg3211/json-schema-tools.io",target:"_blank",children:(0,n.jsx)("img",{className:p().github,src:"./github.svg",alt:"github link"})})]})]}),eu=e=>{var r;let{tabs:t,selectedKey:o,onChange:a}=e;return(0,n.jsxs)("div",{className:p().tabs_wrapper,children:[(0,n.jsx)("div",{className:p().tabs_selector,children:t.map(e=>{let r=e.key===o;return(0,n.jsx)(O,{className:"".concat(p().tab_btn," ").concat(r?p().tab_btn_select:void 0),type:r?"primary":"default",onClick:()=>{null==a||a(e.key)},children:e.key},e.key)})}),(0,n.jsx)("div",{className:"".concat(p().full_page," ").concat(p().tabs_content," ").concat(o===(null===(r=t[0])||void 0===r?void 0:r.key)?p().tabs_content_first_active:void 0),children:t.map(e=>(0,n.jsx)("div",{style:e.key===o?{display:"block"}:{display:"none"},className:p().sub_app,children:e.component},e.key))})]})},ep={integer:"number",number:"number",float:"number",boolean:"boolean",string:"string",array:"array",object:"object"},em=(e,r)=>{let t=0,o=e,n=r=>(null==r?void 0:r.$ref)?n(L(e,r.$ref.split("/").filter(e=>"#"!==e))):r,a=e=>{o=(null==e?void 0:e.$ref)?n(e):(null==e?void 0:e.anyOf)&&(null==e?void 0:e.anyOf)instanceof Array?{anyOf:e.anyOf.map(n)}:e};for(;t<r.length&&o;){let e=r[t];if("object"===o.type){var l,c;a((null===(l=o.properties)||void 0===l?void 0:l[e])?null===(c=o.properties)||void 0===c?void 0:c[e]:o.additionalProperties)}else(null==o?void 0:o.type)==="array"&&a(o.items instanceof Array?"number"==typeof e?o.items[e]:o:"object"==typeof o.items?o.items:o);t+=1}return o},eg=(e,r)=>{let t=(e,o)=>{let n;let a=em(r,o);if(!a)return[{path:o,targetSchema:a,msg:"".concat(o.join(".")," is not a defined in schema")}];"object"==(n=typeof e)&&e instanceof Array&&(n="array");let l=r=>{if((ep[r.type]||r.type)!==n)return[{path:o,currentSchema:r,msg:"".concat(o.join(".")," expect ").concat(r.type," type!")}];if(e instanceof Array)return e.map((e,r)=>t(e,[...o,r])).flat();if("object"===n){let n=r.required||[],a=[];return n.forEach(t=>{if(!Object.prototype.hasOwnProperty.call(e,t)){let e=[...o,t];a.push({path:e,currentSchema:r,msg:"".concat(e.join(".")," is required!")})}}),Object.keys(e||{}).map(r=>t(e[r],[...o,r])).flat().concat(a)}return[]};if(!a.anyOf)return l(a);{let e=(a.anyOf||[]).map(l);return e.some(e=>(null==e?void 0:e.length)===0)?[]:e.flat()}};return t(e,[])},eb="validate-json-cache",ef="validate-json-schema-cache",e_=()=>{let e=(0,b.useRef)("{}"),r=(0,b.useRef)("{}"),[t,o]=(0,b.useState)(!1),a=(0,b.useRef)("{}"),l=(0,b.useRef)("{}"),[c,s]=(0,b.useState)(!1),i=(0,b.useRef)(null),d=(0,b.useRef)(null),[u,m]=(0,b.useState)([]),f=(0,b.useRef)({}),_=t=>{var n,c;e.current=JSON.stringify(en,void 0,2),r.current=F(e.current),a.current=JSON.stringify(ea,void 0,2),l.current=F(a.current),null===(n=i.current)||void 0===n||n.setValue(e.current),null===(c=d.current)||void 0===c||c.setValue(a.current),o(!1),s(!1),j(),t||h()},h=()=>{localStorage.setItem(eb,e.current),localStorage.setItem(ef,a.current)},v=e=>{let r=et(l.current,e.split(".")),t=eo({text:a.current,pathList:[r.join(".")]})[r.join(".")];try{var o,n,c,s;null===(n=d.current)||void 0===n||null===(o=n.setHighlightText)||void 0===o||o.call(n,[{from:null==t?void 0:t[0],to:null==t?void 0:t[1],bgColor:A()}]),null===(s=d.current)||void 0===s||null===(c=s.scrollToPosition)||void 0===c||c.call(s,t[0])}catch(e){console.log(e)}};(0,b.useEffect)(()=>{var t,o;if(!localStorage.getItem(eb)){_(!0);return}e.current=localStorage.getItem(eb)||e.current,r.current=F(e.current),a.current=localStorage.getItem(ef)||a.current,l.current=F(a.current),null===(t=i.current)||void 0===t||t.setValue(e.current),null===(o=d.current)||void 0===o||o.setValue(a.current)},[]);let y=r=>{let t=Object.keys(r).filter(e=>0===r[e].length).map(e=>{let r=e.split(".");return r.pop(),r}),o=eo({text:e.current,pathList:t});return Object.keys(o).forEach(e=>{let t=o[e];t.length>0&&(r[e]=t)}),r},j=()=>{let t=eg(r.current,l.current);m(t);let o=y(eo({text:e.current,pathList:t.map(e=>e.path)})),n=t.map(e=>e.path).reduce((e,r)=>({...e,[r.join(".")]:et(l.current,r)}),{}),c=eo({text:a.current,pathList:Object.values(n)});f.current=t.reduce((e,r)=>{var t,n,a,s,i,d;let u=null===(t=r.path)||void 0===t?void 0:t.join("."),p=null===(i=r.path)||void 0===i?void 0:null===(s=i.slice)||void 0===s?void 0:null===(a=s.call(i,0,r.path.length-1))||void 0===a?void 0:null===(n=a.join)||void 0===n?void 0:n.call(a,"."),m=et(l.current,r.path);return{...e,[u]:{jsonLocation:(null===(d=o[u])||void 0===d?void 0:d.length)>0?o[u]:o[p]||[],msg:r.msg,schemaPath:m,schemaPathLocation:c[m.join(".")]}}},{});let s=Object.values(o).map(e=>({from:e[0],to:e[1],bgColor:$()})).filter(e=>void 0!==e.from&&void 0!==e.to);try{var d;null===(d=i.current)||void 0===d||d.setHighlightText(s.sort((e,r)=>e.from-r.from),!0)}catch(e){console.log(e)}},k=e=>{var r,t,o,n,a,l;let c=f.current[e.path.join(".")];if(!c)return;let{jsonLocation:s}=c;void 0!==s[0]&&(null===(t=i.current)||void 0===t||null===(r=t.scrollToPosition)||void 0===r||r.call(t,s[0]));let u=c.schemaPathLocation;if(!u||(null==u?void 0:u[0])===void 0||(null==u?void 0:u[1])===void 0)return;let p=[{from:null==u?void 0:u[0],to:null==u?void 0:u[1],bgColor:A()}];try{null===(n=d.current)||void 0===n||null===(o=n.setHighlightText)||void 0===o||o.call(n,p),null===(l=d.current)||void 0===l||null===(a=l.scrollToPosition)||void 0===a||a.call(l,u[0])}catch(e){console.log(e)}},J=e=>{let{from:r,to:t}=e,o="".concat(r,"-").concat(t),n=Object.values(f.current).filter(e=>e.jsonLocation.join("-")===o);if(n.length>0){var a;let e=null===(a=n[0])||void 0===a?void 0:a.schemaPathLocation;if((null==e?void 0:e[0])!==void 0&&(null==e?void 0:e[1])!==void 0){let r=[{from:null==e?void 0:e[0],to:null==e?void 0:e[1],bgColor:A()}];try{setTimeout(()=>{var t,o,n,a;null===(o=d.current)||void 0===o||null===(t=o.setHighlightText)||void 0===t||t.call(o,r),null===(a=d.current)||void 0===a||null===(n=a.scrollToPosition)||void 0===n||n.call(a,e[0])},0)}catch(e){console.log(e)}}}let l=document.createElement("div");return l.innerHTML=n.map(e=>"<div>".concat(e.msg,"</div>")).join(""),l.style.color="red",l.style.fontSize="12px",l.style.padding="2px 4px",l};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"".concat(p().json_schema_generator_wrapper),children:[(0,n.jsxs)("div",{className:"".concat(p().json_schema_generator_panel),children:[(0,n.jsx)("div",{className:"".concat(p().json_schema_generator_title),children:(0,n.jsx)("h3",{children:"Json"})}),(0,n.jsx)("div",{className:"".concat(p().json_schema_generator_editor),style:t?{borderColor:"var(--gray-error)"}:{},children:(0,n.jsx)(er,{ref:i,initValue:{},onChange:t=>{e.current=t;try{r.current=JSON.parse(t),o(!1)}catch(e){console.log(e),o(!0)}},hoverConfig:{jsonPropertyNameHover:!0,renderPanel:e=>(v(e),document.createElement("span"))},hoverRenderPanel:e=>J({from:e.from,to:e.to})})})]}),(0,n.jsxs)("div",{className:"".concat(p().json_schema_generator_panel),children:[(0,n.jsx)("div",{className:"".concat(p().json_schema_generator_title),children:(0,n.jsx)("h3",{children:"Json Schema"})}),(0,n.jsx)("div",{className:"".concat(p().json_schema_generator_editor),style:c?{borderColor:"var(--gray-error)"}:{},children:(0,n.jsx)(er,{ref:d,initValue:{},onChange:e=>{a.current=e;try{l.current=JSON.parse(e),s(!1)}catch(e){console.log(e),s(!0)}}})})]}),(0,n.jsxs)("div",{className:"".concat(p().json_schema_generator_panel_error),children:[(0,n.jsx)("div",{className:"".concat(p().json_schema_generator_title),children:(0,n.jsx)("h3",{children:"Errors"})}),(0,n.jsx)("div",{className:"".concat(p().json_schema_error_list_wrapper),children:u.map(e=>(0,n.jsx)(O,{backgroundColor:!0,onClick:()=>{k(e)},children:e.msg},e.path.join(".")))})]})]}),(0,n.jsxs)("div",{className:"".concat(p().bottom_btn_wrapper),children:[(0,n.jsx)(O,{type:t||c?"error":"primary",onClick:()=>{g("Start Validate",new Date),h(),j()},className:"".concat(p().bottom_btn),children:"Start Validate"}),(0,n.jsx)(O,{type:"default",className:"".concat(p().bottom_btn),onClick:()=>{g("Reset validate",new Date),_()},children:"Reset Template"})]})]})},eh=()=>{let[e,r]=(0,b.useState)();return(0,b.useEffect)(()=>{r(new URLSearchParams(location.search).get("tab")||"Generator")},[]),{selectedTab:e,setSelectedTab:e=>{let t=location.origin+location.pathname+"?tab="+e;history.pushState({tab:e},"",t),r(e)}}};var ev=!0;function ey(){let{selectedTab:e,setSelectedTab:r}=eh();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d(),{children:[(0,n.jsxs)("title",{children:["[Online & Free] Json Schema ",e]}),(0,n.jsx)("meta",{name:"keywords",content:"Json Schema generator, Json Schema validation, 通过 Json 生成 Json Schema, 通过 Json Schema 校验 Json 合法"}),(0,n.jsx)("meta",{name:"description",content:"[Free Online Tools] Generate Json Schema from Json, and verify the legality of Json through Json Schema。 通过 Json 生成 Json Schema, 通过 Json Schema 校验 Json 合法"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("link",{rel:"icon",href:"https://ykg3211.github.io/json-schema-tools.io/logo.ico"})]}),(0,n.jsxs)("div",{className:"".concat(p().page," ").concat(l().variable," ").concat(s().variable),children:[(0,n.jsx)(ed,{}),(0,n.jsx)("main",{className:p().main,children:(0,n.jsx)(eu,{tabs:[{key:"Generator",component:(0,n.jsx)(ei,{})},{key:"Validator",component:(0,n.jsx)(e_,{})}],selectedKey:e,onChange:e=>{r(e)}})}),(0,n.jsx)("footer",{className:p().footer})]})]})}},1788:e=>{e.exports={page:"styles_page__S6rvL",button_background_color:"styles_button_background_color__gELg7",button:"styles_button__ZMK0c",button_primary:"styles_button_primary__JD69a",button_default:"styles_button_default__3uB9h",button_error:"styles_button_error__tHe2e",header:"styles_header__WEy1x",header_side:"styles_header_side__W3V5J",header_side_text:"styles_header_side_text__aZf_d",logo:"styles_logo__a_88m",link_href:"styles_link_href__OgITw",github:"styles_github__PMDjl",main:"styles_main__8wAdZ",full_page:"styles_full_page__hYUVC",tabs_content:"styles_tabs_content__h8g0R",tabs_content_first_active:"styles_tabs_content_first_active__ek5Ur",tabs_selector:"styles_tabs_selector__w9Mu4",tab_btn:"styles_tab_btn__lxf0n",tab_btn_select:"styles_tab_btn_select__2V4tK",tabs_wrapper:"styles_tabs_wrapper__hKTR1",sub_app:"styles_sub_app__9aQ4k",code_editor_wrapper:"styles_code_editor_wrapper__RqFi1",code_editor:"styles_code_editor__XujSx",code_editor_copy_btn:"styles_code_editor_copy_btn__bIb6_",bottom_btn_wrapper:"styles_bottom_btn_wrapper__T1MG1",bottom_btn:"styles_bottom_btn__Gc7zk",json_schema_generator_title:"styles_json_schema_generator_title__g81EY",json_schema_generator_wrapper:"styles_json_schema_generator_wrapper__HqZfU",json_schema_generator_panel_error:"styles_json_schema_generator_panel_error__e6bPM",json_schema_generator_panel:"styles_json_schema_generator_panel__95b5F",json_schema_generator_editor:"styles_json_schema_generator_editor__p2CL4",json_schema_error_list_wrapper:"styles_json_schema_error_list_wrapper__3q8TJ",json_schema_generator_button:"styles_json_schema_generator_button__n0Qb2"}}},e=>{var r=r=>e(e.s=r);e.O(0,[949,719,888,774,179],()=>r(2158)),_N_E=e.O()}]);